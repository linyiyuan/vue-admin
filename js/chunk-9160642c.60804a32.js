(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9160642c"],{1148:function(e,n,t){"use strict";var i=t("a691"),r=t("1d80");e.exports="".repeat||function(e){var n=String(r(this)),t="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(t+=n);return t}},"38cf":function(e,n,t){var i=t("23e7"),r=t("1148");i({target:"String",proto:!0},{repeat:r})},"98df":function(e,n,t){"use strict";t.r(n);t("99af"),t("caad"),t("b0c0"),t("d3b7"),t("2532"),t("38cf"),t("fb6a"),t("a434");var i=t("b85c"),r=t("961b"),a=[{id:1,name:"渡边早季",gender:1,password:"123456",typ:{index:999},privilege:[1,2,3,5,11,123,999],desc:"来自新世界的女主"},{id:2,name:"朝比奈觉",gender:0,password:"qwerty",typ:{index:99},privilege:[1,2,3,5],desc:"来自新世界的男主"},{id:3,name:"秋月真理亚",gender:1,password:"123456",typ:{index:99},privilege:[1,2]},{id:4,name:"伊东守",gender:0,password:"wwwww",typ:{index:2},privilege:[0,1],desc:"~~~"},{id:5,name:"青沼瞬",gender:0,password:"1234567",typ:{index:1},privilege:[0],desc:"业魔化~"}],o=a.length+1,l={0:"男",1:"女"},u=[{value:0,label:"路人甲"},{value:1,label:"店小二"},{value:2,label:"收银员"},{value:99,label:"店掌柜"},{value:999,label:"管理员"}];function d(e){e(u)}var c=Object(r["b"])(u),f=[{id:1,name:"游客"},{id:2,name:"打杂"},{id:3,name:"跑堂"},{id:5,name:"财务"},{id:11,name:"店长"},{id:123,name:"客服"},{id:999,name:"关小黑屋"}];function s(e,n){var t,i=n.typ.index;switch(i){case 0:t=f.slice(0,1);break;case 1:t=f.slice(0,2);break;case 2:t=f.slice(0,4);break;case 99:t=f.slice(0,-2);break;case 999:t=f.slice(0);break;default:t=[]}e(t)}var p=["name","password","gender","typ","privilege","desc"];function g(e){e(p)}function m(e,n){n.id=o++,a.push(n),e()}function h(e,n){var t=JSON.parse(JSON.stringify(a)),i=["name","gender","typ","password"],r=t.length;e({data:t,fieldList:i,total:r})}var b=[["name"],["gender","typ"],["desc"]];function v(e){var n,t=this.data.id,r=Object(i["a"])(a);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.id===t)return void e({fieldLayoutList:b,record:JSON.parse(JSON.stringify(o))})}}catch(l){r.e(l)}finally{r.f()}}var y=["name","password","gender","typ","privilege","desc"];function w(e){var n,t=this.id,r=Object(i["a"])(a);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.id===t)return void e({editableFields:JSON.parse(JSON.stringify(y)),record:JSON.parse(JSON.stringify(o))})}}catch(l){r.e(l)}finally{r.f()}}function x(e,n){for(var t=0;t<a.length;t++)a[t].id===n.id&&(a[t]=n);e()}function C(e){var n=this.id;for(var t in a)a[t].id===n&&a.splice(t,1);e()}var k=Object(r["e"])(d);n["default"]=function(){return{fields:{name:{labelName:"用户名",editor:{name:"field_string2",component:function(){return t.e("chunk-6bb5d5c5").then(t.bind(null,"2dc6")).then((function(e){return e.default}))},config:{placeholder:"请输入用户名"},editConfig:{placeholder:"测试editconfig"},default:"3"},view:{handler:function(e,n){return n.prefix+e},config:{prefix:"用户名"}},validator:function(e,n){return[{validator:function(t,i,r){"edit"===n&&0===e.gender&&"渡边早季"===i&&r("早季是女孩子的名字"),i.length<2?r([new Error("姓名最少两个字符")]):r()}}]}},password:{labelName:"密码",editor:{name:"EditorPwd",relates:[{relateField:["name"],handler:function(e){console.log(e),"lelouch"===e.name&&this.$emit("input","naive")},config:{immediate:!0}}],config:{placeholder:"请输入密码"},default:""},view:{component:function(){return t.e("chunk-d23b0c26").then(t.bind(null,"9ac0")).then((function(e){return e.default}))},config:{getLink:function(e){return"https://www.google.com/search?q=".concat(e)},getText:function(e){return"*".repeat(e.length)},tag:"span"}},validator:[{validator:function(e,n,t){n.length>15?t(new Error("密码位数最多为15位")):t()}},{validator:function(e,n,t){n.includes("???")?t(new Error("???")):t()}}],autoValidate:function(e){return"create"===e}},gender:{labelName:"性别",editor:{name:"EditorGender",default:0},view:{component:function(){return t.e("chunk-1e96e270").then(t.bind(null,"5690")).then((function(e){return e.default}))},config:{enums:l}},tip:function(e){return"暂不支持LGBT ".concat(e)},tableColumnConfig:{align:"center"},label:{default:{component:function(){return t.e("chunk-2d0daa66").then(t.bind(null,"6d02")).then((function(e){return e.default}))},exclude:["create"]},info:{handler:function(e,n){return"".concat(n.prefix).concat(e)},config:{prefix:"++"}}}},typ:{labelName:"类型",editor:{name:"EditorEnumAsyncSelect",config:{getCandidate:k,valuefield:"value",labelfield:"label",getModelValue:function(e){return e.index},setModelValue:function(e){return{index:e}}},default:function(){return{index:0}}},view:{component:function(){return t.e("chunk-1e96e270").then(t.bind(null,"5690")).then((function(e){return e.default}))},config:{enums:function(){return this.$store.state.test.typHash}},getViewValue:function(e){return e.index}}},privilege:{labelName:"权限",editor:{name:"EditorArrayRelatesCheckbox",relates:[{relateField:["typ"],propField:"relateData"}],config:{getCandidate:s,labelfield:"name",valuefield:"id",isValidValue:function(e){return 0!==e.typ.index},getCacheKey:function(e,n){return"typ"===n?e.index:e}},default:function(){return[]}},colspan:{create:3,edit:3}},desc:{labelName:"备注",editor:{name:"EditorTextrich",default:"这是富文本编辑器蛤"},view:{component:function(){return t.e("chunk-2d0c42b4").then(t.bind(null,"3a4d")).then((function(e){return e.default}))}},colspan:{default:{label:1,field:3},create:3,edit:3,info:{label:2,field:2}}}},collectionOperators:[{name:"CollectionOperatorCreate",component:function(){return Promise.all([t.e("chunk-e937763e"),t.e("chunk-588365cc"),t.e("chunk-2d21ee9d")]).then(t.bind(null,"e933")).then((function(e){return e.default}))},config:{getCreateFields:g,doCreateRequest:m,fieldLayout:function(e){return 0===e.gender?[["name","password"],["gender","typ"],["privilege"]]:[["name","password"],["gender","typ"],["privilege"],["desc"]]},effectLayoutFields:["gender"],triggerConfig:{text:"新建用户",type:"primary"},dialogConfig:{title:"新建用户"},confirmBtnConfig:{text:"确认创建",type:"success"},cancelBtnConfig:{text:"取消"}}}],filters:function(){return[{label:"姓名",field:"username",filterComponent:{name:"EditorString",config:{placeholder:"请输入用户姓名"},default:""},validator:[{validator:function(e,n,t){console.log("here"),"小管家"===n?t(new Error("不能搜索小管家")):t()}}],autoValidate:!1},{label:"类型",field:"typ",filterComponent:{name:"FilterEnumAsyncSelect",config:{getCandidate:k,allvalue:-1,alllabel:"全部",getModelValue:function(e){return e.index},setModelValue:function(e){return{index:e}}},default:function(){return{index:-1}}}},{label:"权限",field:"privilege",filterComponent:{name:"FilterEnumRelatesSelect",config:{getCandidate:s,getCacheKey:function(e,n){return"typ"===n?e.index:e},valuefield:"id",labelfield:"name",allvalue:"all",alllabel:"不限",handleInvalidValue:function(){this.$emit("input","all")}},default:"all"},relates:[{relateField:["typ"],propField:"relateData"}]},{label:"自定义filter",field:"test",filterComponent:{name:"test_custom_filter",config:{msg:"测试自定义filter"},component:function(){return t.e("chunk-2d216b0b").then(t.bind(null,"c415")).then((function(e){return e.default}))},default:"test"},watch:!0}]},filterOperators:[{name:"FilterOperatorReset",component:function(){return t.e("chunk-2d23843a").then(t.bind(null,"ff48")).then((function(e){return e.default}))}}],listConfig:{createdHook:function(){var e=this;setTimeout((function(){e.$store.commit("test/setTypHash",JSON.parse(JSON.stringify(c)))}),5e3)},listRequest:h,sortableFields:{typ:!0},initialSortField:"name",initialSortOrder:"desc",paginationConfig:{layout:"total, sizes, prev, pager, next, jumper",pageSizes:[2,10,20,30,50]}},documentOperators:[{name:"DocumentOperatorInfo",component:function(){return t.e("chunk-c962c5ba").then(t.bind(null,"7646")).then((function(e){return e.default}))},config:{getDetailInfo:v,triggerConfig:{text:"查看详情",size:"small",type:"primary"},dialogConfig:{title:"用户详情"}}},{name:"DocumentOperatorEdit",component:function(){return Promise.all([t.e("chunk-e937763e"),t.e("chunk-3cb77cb6")]).then(t.bind(null,"26ad")).then((function(e){return e.default}))},config:{getEditInfo:w,doEditRequest:x,fieldLayout:[["name","password"],["gender","typ"],["privilege"],["desc"]],autoValidate:!1,triggerConfig:{text:"编辑",size:"small",type:"primary"},dialogConfig:{title:"编辑用户"},confirmBtnConfig:{type:"primary",text:"确定编辑"},cancelBtnConfig:{text:"取消"},recordWatch:function(e){var n=this.$watch((function(){return{name:e.name,password:e.password}}),(function(n){"渡边早季"===n.name&&"123456"===n.password&&setTimeout((function(){e.desc="test recordWatch"}),1e3)}));return[n]}}},{handler:function(e){var n=this;this.$message({message:"".concat(e.name,"不要总想着搞个大新闻"),type:"success",duration:2e3}),setTimeout((function(){n.$emit("update")}),1e3)},triggerConfig:{text:"搞个大新闻",type:"warning",size:"small"}},{name:"DocumentOperatorDelete",component:function(){return t.e("chunk-4742a44e").then(t.bind(null,"8365")).then((function(e){return e.default}))},config:{doDeleteRequest:C,triggerConfig:{text:"删除用户",type:"danger",size:"small"}}}]}}},b85c:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t("a4d3"),t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");var i=t("06c5");function r(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(i["a"])(e))){var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(l)throw a}}}}}}]);